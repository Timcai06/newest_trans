/**
 * 单词翻译助手 - 弹出页面样式文件
 *
 * 定义扩展弹出页面的完整视觉样式：
 * 1. 页面容器和导航
 * 2. 首页卡片和统计
 * 3. 单词列表和搜索界面
 * 4. 响应式设计和动画效果
 * 5. 毛玻璃效果和现代UI设计
 */

/* ==================== */
/* Splash屏幕样式 */
/* ==================== */

/* Splash屏幕容器 */
.splash-screen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  background-size: 400% 400%;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
  overflow: hidden;
  perspective: 1000px;
  animation: flowingGradient 4s ease-in-out infinite;
  transition: opacity var(--splash-duration) var(--transition-easing);
  background-blend-mode: overlay;
}

/* 粒子容器 */
.particles-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* 粒子样式 */
.particle {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 2px;
  height: 2px;
  background: white;
  border-radius: 50%;
  opacity: 0;
  box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
  animation: particleExplosion 2.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* 为不同粒子设置不同的初始大小和颜色 */
.particle:nth-child(1),
.particle:nth-child(5),
.particle:nth-child(9),
.particle:nth-child(13),
.particle:nth-child(17),
.particle:nth-child(21),
.particle:nth-child(25),
.particle:nth-child(29),
.particle:nth-child(33),
.particle:nth-child(37) {
  width: 6px;
  height: 6px;
  background: linear-gradient(135deg, #667eea, #f093fb);
}

.particle:nth-child(2),
.particle:nth-child(6),
.particle:nth-child(10),
.particle:nth-child(14),
.particle:nth-child(18),
.particle:nth-child(22),
.particle:nth-child(26),
.particle:nth-child(30),
.particle:nth-child(34),
.particle:nth-child(38) {
  width: 4px;
  height: 4px;
  background: linear-gradient(135deg, #764ba2, #f5576c);
}

.particle:nth-child(3),
.particle:nth-child(7),
.particle:nth-child(11),
.particle:nth-child(15),
.particle:nth-child(19),
.particle:nth-child(23),
.particle:nth-child(27),
.particle:nth-child(31),
.particle:nth-child(35),
.particle:nth-child(39) {
  width: 3px;
  height: 3px;
  background: linear-gradient(135deg, #f093fb, #667eea);
}

.particle:nth-child(4),
.particle:nth-child(8),
.particle:nth-child(12),
.particle:nth-child(16),
.particle:nth-child(20),
.particle:nth-child(24),
.particle:nth-child(28),
.particle:nth-child(32),
.particle:nth-child(36),
.particle:nth-child(40) {
  width: 2px;
  height: 2px;
  background: linear-gradient(135deg, #f5576c, #764ba2);
}

/* 粒子动画延迟 */
.particle:nth-child(1) { animation-delay: 0s; }
.particle:nth-child(2) { animation-delay: 0.05s; }
.particle:nth-child(3) { animation-delay: 0.1s; }
.particle:nth-child(4) { animation-delay: 0.15s; }
.particle:nth-child(5) { animation-delay: 0.2s; }
.particle:nth-child(6) { animation-delay: 0.25s; }
.particle:nth-child(7) { animation-delay: 0.3s; }
.particle:nth-child(8) { animation-delay: 0.35s; }
.particle:nth-child(9) { animation-delay: 0.4s; }
.particle:nth-child(10) { animation-delay: 0.45s; }
.particle:nth-child(11) { animation-delay: 0.5s; }
.particle:nth-child(12) { animation-delay: 0.55s; }
.particle:nth-child(13) { animation-delay: 0.6s; }
.particle:nth-child(14) { animation-delay: 0.65s; }
.particle:nth-child(15) { animation-delay: 0.7s; }
.particle:nth-child(16) { animation-delay: 0.75s; }
.particle:nth-child(17) { animation-delay: 0.8s; }
.particle:nth-child(18) { animation-delay: 0.85s; }
.particle:nth-child(19) { animation-delay: 0.9s; }
.particle:nth-child(20) { animation-delay: 0.95s; }
.particle:nth-child(21) { animation-delay: 1.0s; }
.particle:nth-child(22) { animation-delay: 1.05s; }
.particle:nth-child(23) { animation-delay: 1.1s; }
.particle:nth-child(24) { animation-delay: 1.15s; }
.particle:nth-child(25) { animation-delay: 1.2s; }
.particle:nth-child(26) { animation-delay: 1.25s; }
.particle:nth-child(27) { animation-delay: 1.3s; }
.particle:nth-child(28) { animation-delay: 1.35s; }
.particle:nth-child(29) { animation-delay: 1.4s; }
.particle:nth-child(30) { animation-delay: 1.45s; }
.particle:nth-child(31) { animation-delay: 1.5s; }
.particle:nth-child(32) { animation-delay: 1.55s; }
.particle:nth-child(33) { animation-delay: 1.6s; }
.particle:nth-child(34) { animation-delay: 1.65s; }
.particle:nth-child(35) { animation-delay: 1.7s; }
.particle:nth-child(36) { animation-delay: 1.75s; }
.particle:nth-child(37) { animation-delay: 1.8s; }
.particle:nth-child(38) { animation-delay: 1.85s; }
.particle:nth-child(39) { animation-delay: 1.9s; }
.particle:nth-child(40) { animation-delay: 1.95s; }

/* 光效样式 */
.light-effect {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
  transform: translate(-50%, -50%);
  opacity: 0;
  animation: lightPulse 2s ease-in-out infinite;
  pointer-events: none;
}

/* 光环样式 */
.light-rings {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 300px;
  height: 300px;
  border: 2px solid rgba(255,255,255,0.3);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
  animation: ringExpand 2s ease-out infinite;
  pointer-events: none;
}

/* 多层光环延迟动画 */
.light-rings:nth-child(2) {
  animation-delay: 0.3s;
}

.light-rings:nth-child(3) {
  animation-delay: 0.6s;
}

.light-rings:nth-child(4) {
  animation-delay: 0.9s;
}

/* 波浪容器样式 */
.waves-container {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 400px;
  height: 400px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  overflow: hidden;
  border-radius: 50%;
}

/* 波浪基础样式 */
.wave {
  position: absolute;
  width: 200%;
  height: 200%;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 50%, rgba(240, 147, 251, 0.1) 100%);
  border-radius: 45%;
  animation: waveAnimation 6s linear infinite;
  opacity: 0.8;
}

/* 波浪动画 */

/* 不同波浪的样式和动画延迟 */
.wave-1 {
  top: -20%;
  left: -50%;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 50%, rgba(240, 147, 251, 0.2) 100%);
  animation-duration: 8s;
  animation-direction: normal;
}

.wave-2 {
  top: -30%;
  left: -50%;
  background: linear-gradient(135deg, rgba(118, 75, 162, 0.3) 0%, rgba(240, 147, 251, 0.3) 50%, rgba(102, 126, 234, 0.3) 100%);
  animation-duration: 10s;
  animation-direction: reverse;
}

.wave-3 {
  top: -40%;
  left: -50%;
  background: linear-gradient(135deg, rgba(240, 147, 251, 0.4) 0%, rgba(102, 126, 234, 0.4) 50%, rgba(118, 75, 162, 0.4) 100%);
  animation-duration: 12s;
  animation-direction: normal;
}

/* 波浪容器遮罩 */
.waves-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle, rgba(0, 0, 0, 0.7) 0%, transparent 70%);
  border-radius: 50%;
  z-index: 1;
  pointer-events: none;
}

/* Splash屏幕内容 */
.splash-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 30px;
  transform-style: preserve-3d;
  opacity: 0;
  animation: splashFadeIn var(--splash-duration) var(--transition-easing) forwards;
  z-index: 10;
  position: relative;
}

/* ==================== */
/* 黑洞效果样式 */
/* ==================== */

/* 黑洞容器 */
.blackhole-container {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200px;
  height: 200px;
  transform: translate(-50%, -50%);
  z-index: 1;
  pointer-events: none;
}

/* 黑洞主体 */
.blackhole {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 80px;
  height: 80px;
  background: radial-gradient(circle, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.9) 50%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0) 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  animation: blackholeForm 2.5s ease-in-out forwards;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
  z-index: 3;
}

/* 黑洞外层光晕 */
.blackhole-outer {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, transparent 0%, rgba(102, 126, 234, 0.1) 50%, transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  animation: blackholeOuterPulse 2.5s ease-in-out forwards;
  z-index: 2;
}

/* 黑洞内层光晕 */
.blackhole-glow {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200px;
  height: 200px;
  background: radial-gradient(circle, transparent 0%, rgba(118, 75, 162, 0.15) 50%, transparent 100%);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0) rotate(0deg);
  animation: blackholeGlow 2.5s linear forwards;
  z-index: 1;
}

/* 黑洞形成动画 */

/* 黑洞外层光晕动画 */

/* 黑洞内层光晕动画 */

/* 3D应用名称 */
.app-name-3d {
  font-size: 28px;
  font-weight: bold;
  color: white;
  text-align: center;
  display: flex;
  gap: 8px;
  transform-style: preserve-3d;
  perspective: 1000px;
  margin: 0;
}

/* 单个文字样式 */
.letter {
  display: inline-block;
  opacity: 0;
  animation: letterFadeIn 0.5s ease-out forwards;
  transform-style: preserve-3d;
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.5);
  transition: transform 0.3s ease;
}

/* 文字动画延迟 */
.letter:nth-child(1) { animation-delay: 0.5s; }
.letter:nth-child(2) { animation-delay: 0.6s; }
.letter:nth-child(3) { animation-delay: 0.7s; }
.letter:nth-child(4) { animation-delay: 0.8s; }
.letter:nth-child(5) { animation-delay: 0.9s; }
.letter:nth-child(6) { animation-delay: 1.0s; }

/* 加载指示器 */
.loading-indicator {
  width: 60px;
  height: 60px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-top: 3px solid white;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  opacity: 1;
  position: relative;
  will-change: transform;
}

/* 加载指示器内部光环 */
.loading-indicator::after {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  border: 2px solid transparent;
  border-top: 2px solid rgba(255, 255, 255, 0.6);
  border-radius: 50%;
  animation: spin 1.5s linear infinite reverse;
}

/* ==================== */
/* Splash屏幕动画 */
/* ==================== */

/* 流动渐变动画 */

/* 粒子爆炸动画 */

/* 光效脉冲动画 */

/* 光环扩展动画 */

/* Splash淡入动画 */

/* 文字淡入动画 - 黑洞吸附版本 */

/* 旋转动画 */

/* Splash淡出动画 */

/* 容器淡入动画 */

/* 隐藏Splash屏幕的类 */
.splash-screen.hidden {
  animation: splashFadeOut var(--splash-duration) var(--transition-easing) forwards;
  pointer-events: none;
  will-change: opacity, transform;
}

/* 容器初始样式 */
.container {
  opacity: 0;
  transition: opacity var(--splash-duration) var(--transition-easing);
  will-change: opacity;
}

/* 显示容器的类 */
.container.visible {
  animation: containerFadeIn var(--splash-duration) var(--transition-easing) forwards;
}

/* ==================== */
/* 页面基础布局 */
/* ==================== */

/**
 * 页面body样式
 * 设置弹出页面的基础尺寸、字体和背景
 */
body {
  width: 520px;                       /* 设置页面固定宽度为520px */
  min-height: 600px;                  /* 设置页面最小高度为600px */
  max-height: 800px;                  /* 设置页面最大高度为800px */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; /* 设置系统字体栈，确保跨平台一致性 */
  background: var(--bg-primary);      /* 使用CSS变量设置背景 */
  background-size: 400% 400%;         /* 设置背景大小以支持动态效果 */
  padding: 20px;                      /* 设置页面内边距为20px */
  transition: background var(--transition-normal), background-position var(--transition-slow); /* 背景渐变过渡效果 */
  animation: gradientShift 15s ease infinite; /* 添加动态渐变动画 */
}

/* 动态渐变效果动画 */

/* 深色主题支持 */
@media (prefers-color-scheme: dark) {
  body {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); /* 深色渐变背景 */
  }
}

/**
 * 主容器样式
 * 使用毛玻璃效果的半透明容器
 */
.container {
  background: var(--bg-secondary);       /* 使用CSS变量设置背景 */
  backdrop-filter: blur(20px);           /* 应用背景模糊滤镜，模糊半径20px */
  -webkit-backdrop-filter: blur(20px);   /* Safari浏览器兼容的背景模糊 */
  height: 550px;                         /* 容器高度设置为550px */
  display: flex;                         /* 使用弹性布局 */
  flex-direction: column;               /* 子元素垂直排列 */
  box-shadow: var(--shadow-lg);          /* 使用CSS变量设置阴影 */
  border-radius: 24px;                   /* 设置大圆角，24px半径 */
  overflow: hidden;                      /* 隐藏超出容器边界的内容 */
  border: 1px solid rgba(255, 255, 255, 0.3); /* 添加半透明边框 */
  position: relative;                    /* 设置相对定位 */
  transition: all var(--transition-normal); /* 平滑过渡效果 */
}

/* 深色主题下的容器样式 */
@media (prefers-color-scheme: dark) {
  .container {
    background: rgba(30, 30, 40, 0.8);     /* 深色半透明背景 */
    border: 1px solid rgba(255, 255, 255, 0.1); /* 更细的浅色边框 */
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); /* 更深的阴影 */
  }
}

/* ==================== */
/* 页面切换样式 */
/* ==================== */

/**
 * 页面基础样式
 * 所有页面默认隐藏，垂直布局
 */
.page {
  display: none;                      /* 默认隐藏所有页面 */
  flex-direction: column;             /* 子元素垂直排列 */
  height: 100%;                      /* 页面高度占满容器 */
}

/**
 * 激活页面样式
 * 当前显示的页面设置为弹性布局
 */
.page.active {
  display: flex;                      /* 激活页面显示为弹性容器 */
}

/* ==================== */
/* 头部样式 */
/* ==================== */

/**
 * 页面头部样式
 * 毛玻璃效果的头部区域
 */
.header {
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(10px);           /* 背景模糊滤镜，10px半径 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容的背景模糊 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
  padding: 16px 20px;                    /* 设置内边距，上下16px，左右20px */
  text-align: center;                    /* 文字居中对齐 */
  position: relative;                    /* 相对定位 */
  border-bottom: 1px solid var(--border-color); /* 使用CSS变量设置底部边框 */
  display: flex;                           /* 弹性布局 */
  align-items: center;                     /* 子元素垂直居中 */
  justify-content: space-between;          /* 子元素两端对齐 */
}

/**
 * 头部标题样式
 */
.header h1 {
  flex: 1;                               /* 占据剩余空间 */
  text-align: center;                    /* 文字居中 */
  font-size: 24px;                       /* 字体大小24px */
  margin-bottom: 8px;                    /* 下边距8px */
  position: relative;                    /* 相对定位 */
  z-index: 1;                            /* 层级为1 */
  font-weight: 600;                      /* 字体粗细600 */
  letter-spacing: -0.5px;                /* 字间距-0.5px，略微紧凑 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
}

/**
 * 统计信息样式
 */
/**
 * 统计信息样式
 * 显示单词总数和收藏数的统计文字样式
 */
.stats {
  font-size: 14px;                       /* 字体大小14px */
  opacity: 0.7;                          /* 透明度70% */
  position: relative;                    /* 相对定位 */
  z-index: 1;                            /* 层级为1 */
  font-weight: 500;                      /* 字体粗细500 */
  color: var(--text-secondary);          /* 使用CSS变量设置文字颜色 */
}

/* ==================== */
/* 控制面板样式 */
/* ==================== */

/**
 * 控制面板样式 - 紧凑设计，减少喧宾夺主
 * 包含搜索框、过滤器和排序选择器
 */
.controls {
  padding: 10px 16px;                    /* 减小内边距 */
  background: rgba(255, 255, 255, 0.08);  /* 更通透的背景 */
  backdrop-filter: blur(15px);           /* 适度模糊 */
  -webkit-backdrop-filter: blur(15px);
  border-bottom: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  gap: 8px;                              /* 减小间距 */
  transition: all var(--transition-normal);
}

/* 搜索框容器 */
.search-container {
  width: 100%;
  position: relative;
  border-radius: 14px;
  background: transparent;
}

/* 流体边框动画关键帧 */

/* 流体边框层 - 基础样式 */
.liquid-border-layer {
  position: absolute;
  inset: -2px;
  border-radius: 14px;
  background: transparent;
  z-index: 0;
  pointer-events: none;
  animation: liquidPulse 3s ease-in-out infinite;
  opacity: 0; /* 完全隐藏外边框 */
}

/* 流体渐变层1 - 主流动层 */
.liquid-border-layer::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 14px;
  background: conic-gradient(
    from var(--liquid-angle-1) in oklch,
    transparent 0%,
    hsl(calc(var(--liquid-hue-1) + 0), 85%, 65%) 15%,
    hsl(calc(var(--liquid-hue-1) + 60), 80%, 60%) 30%,
    transparent 50%,
    hsl(calc(var(--liquid-hue-1) + 180), 85%, 65%) 65%,
    hsl(calc(var(--liquid-hue-1) + 240), 80%, 60%) 80%,
    transparent 100%
  );
  animation: liquidFlow1 4s ease-in-out infinite;
  filter: blur(8px);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: destination-out;
  padding: 2px;
}

/* 流体渐变层2 - 交织层 */
.liquid-border-layer::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 14px;
  background: conic-gradient(
    from var(--liquid-angle-2) in oklch,
    transparent 0%,
    hsl(calc(var(--liquid-hue-2) + 30), 90%, 70%) 20%,
    hsl(calc(var(--liquid-hue-2) + 90), 85%, 65%) 40%,
    transparent 60%,
    hsl(calc(var(--liquid-hue-2) + 210), 90%, 70%) 75%,
    hsl(calc(var(--liquid-hue-2) + 270), 85%, 65%) 90%,
    transparent 100%
  );
  animation: liquidFlow2 5s ease-in-out infinite reverse;
  filter: blur(6px);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: destination-out;
  padding: 2px;
}

/* 控制面板操作按钮区域 */
.controls-actions {
  display: flex;
  gap: 12px;
  align-items: center;
  width: 100%;
}

/* 筛选按钮样式 */
.filter-btn,
.clear-btn {
  flex: 1;
  height: 38px;
  padding: 0 16px;
  border: 1.5px solid var(--border-color);
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  outline: none;
  cursor: pointer;
  transition: all var(--transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--bg-secondary);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: var(--text-primary);
  position: relative;
  overflow: hidden;
}

/* 筛选按钮悬停效果 */
.filter-btn::before,
.clear-btn::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(240, 147, 251, 0.1));
  opacity: 0;
  transition: opacity 0.25s ease;
}

.filter-btn:hover,
.clear-btn:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

.filter-btn:hover::before,
.clear-btn:hover::before {
  opacity: 1;
}

.filter-btn:active,
.clear-btn:active {
  transform: translateY(0);
  box-shadow: var(--shadow-sm);
}

/* 筛选按钮图标 */
.filter-btn .icon-svg,
.clear-btn .icon-svg {
  width: 18px;
  height: 18px;
  stroke: currentColor;
  position: relative;
  z-index: 1;
}

.filter-btn span,
.clear-btn span {
  position: relative;
  z-index: 1;
}

/* 清空按钮特殊样式 - 警告色调 */
.clear-btn {
  border-color: rgba(239, 68, 68, 0.3);
}

.clear-btn::before {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));
}

.clear-btn:hover {
  border-color: rgba(239, 68, 68, 0.6);
  color: #ef4444;
}

/* 深色主题下的按钮样式 */
body.theme-dark .filter-btn,
body.theme-dark .clear-btn {
  background: rgba(30, 41, 59, 0.6);
  border-color: rgba(255, 255, 255, 0.1);
}

body.theme-dark .filter-btn:hover,
body.theme-dark .clear-btn:hover {
  border-color: rgba(167, 139, 250, 0.5);
  box-shadow: 0 4px 12px rgba(167, 139, 250, 0.2);
}

body.theme-dark .clear-btn {
  border-color: rgba(248, 113, 113, 0.3);
}

body.theme-dark .clear-btn:hover {
  border-color: rgba(248, 113, 113, 0.6);
  color: #f87171;
}

/**
 * 输入框和选择器基础样式
 * 统一高度和视觉风格，更紧凑的设计
 */
.type-filter,
.sort-select {
  flex: 1;
  min-width: 120px;
  height: 30px;                          /* 减小高度 */
  padding: 0 10px;                      /* 减小内边距 */
  border: 1px solid var(--border-color); /* 默认细边框 */
  border-radius: 8px;                    /* 更小的圆角 */
  font-size: 13px;                      /* 减小字体 */
  outline: none;
  transition: all var(--transition-normal);
  background: var(--bg-input);
  backdrop-filter: blur(8px);
  color: var(--text-primary);
  box-shadow: none;                      /* 移除默认阴影，扁平化 */
  font-weight: 500;
}

/**
 * 搜索框特殊样式 - 突出显示
 */
.search-input {
  width: 100%;
  height: 42px;                         /* 增加高度，突出显示 */
  padding: 0 16px 0 44px;                /* 优化内边距 */
  border: 1px solid var(--border-color); /* 默认细边框 */
  border-radius: 12px;                   /* 更大的圆角，更现代 */
  font-size: 15px;                      /* 增大字体 */
  outline: none;
  transition: all var(--transition-normal);
  background: var(--bg-input);
  backdrop-filter: blur(10px);           /* 适度模糊 */
  color: var(--text-primary);
  box-shadow: var(--shadow-sm);          /* 轻微阴影，增加层次感 */
  font-weight: 500;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23a0aec0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'%3E%3C/circle%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'%3E%3C/line%3E%3C/svg%3E");
  background-position: 12px center;
  background-repeat: no-repeat;
  background-size: 20px 20px;            /* 增大图标大小 */
}

/**
 * 输入框聚焦效果
 */
.search-input:focus,
.type-filter:focus,
.sort-select:focus {
  background: var(--bg-input-focus);
  transform: translateY(-1px);
}

/* 搜索框聚焦时增强效果 */
.search-input:focus {
  transform: translateY(-1px);
}

/**
 * 选择器特殊样式
 */
.type-filter,
.sort-select {
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 24 24' fill='none' stroke='%23a0aec0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
  background-position: right 10px center;
  background-repeat: no-repeat;
  background-size: 14px 14px;            /* 减小图标大小 */
  padding-right: 28px;                   /* 减小右侧内边距 */
}

/**
 * 控制按钮组样式
 */
.control-buttons {
  display: flex;
  gap: 8px;
  align-items: center;
  width: 100%;
}

/* ==================== */
/* 视图控制按钮样式 */
/* ==================== */

.view-controls {
  display: flex;
  gap: 4px;
  align-items: center;
}

/* ==================== */
/* 不同视图的单词列表样式 */
/* ==================== */

/* 网格视图 */
.word-list.view-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 16px;
}

/* 列表视图 */
.word-list.view-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.word-list.view-list .word-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  margin-bottom: 8px;
}

.word-list.view-list .word-item .word-info {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 16px;
}

.word-list.view-list .word-item .word-text {
  font-size: 18px;
  min-width: 100px;
}

.word-list.view-list .word-item .translation-text {
  margin-bottom: 0;
  font-size: 14px;
  flex: 1;
  text-align: left;
}

.word-list.view-list .word-item .word-meta {
  flex-shrink: 0;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
}

/* 图标视图 */
.word-list.view-icon {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 20px;
}

.word-list.view-icon .word-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 20px 12px;
}

.word-list.view-icon .word-item .word-header {
  flex-direction: column;
  gap: 8px;
  margin-bottom: 12px;
}

.word-list.view-icon .word-item .word-text {
  font-size: 20px;
}

.word-list.view-icon .word-item .translation-text {
  font-size: 13px;
  margin-bottom: 12px;
  text-align: center;
}

.word-list.view-icon .word-item .word-meta {
  flex-direction: column;
  gap: 4px;
  align-items: center;
}

/* 封面流视图 */
.word-list.view-coverflow {
  display: flex;
  overflow-x: auto;
  gap: 20px;
  padding: 20px 0;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

.word-list.view-coverflow .word-item {
  min-width: 200px;
  max-width: 240px;
  flex-shrink: 0;
  transition: all var(--transition-normal);
}

.word-list.view-coverflow .word-item:hover {
  transform: translateY(-8px) scale(1.05);
}

/* 视图切换过渡效果 */
.word-list {
  transition: all var(--transition-normal);
}

.word-item {
  transition: all var(--transition-normal);
}

/* 响应式调整 */
@media (max-width: 520px) {
  .controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .view-controls {
    justify-content: center;
  }
  
  .word-list.view-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 12px;
  }
  
  .word-list.view-icon {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 16px;
  }
  
  .word-list.view-coverflow .word-item {
    min-width: 160px;
    max-width: 200px;
  }
}

/* ==================== */
/* 单词列表样式 */
/* ==================== */

/**
 * 单词列表容器样式
 */
.word-list {
  flex: 1;                               /* 占据剩余空间 */
  padding: 16px;                         /* 内边距16px */
  background: var(--bg-card);            /* 背景色与上方按钮一致 */
  backdrop-filter: blur(5px);            /* 轻微背景模糊 */
  -webkit-backdrop-filter: blur(5px);    /* Safari兼容 */
  border-radius: 0 0 24px 24px;          /* 底部圆角 */
  overflow-y: auto;                      /* 垂直滚动，确保内容超出时可滚动 */
}

/**
 * 虚拟滚动容器样式
 */
.virtual-scroll-container {
  position: relative;                    /* 相对定位 */
  width: 100%;                          /* 宽度100% */
  overflow-y: auto;                     /* 垂直滚动 */
}

/**
 * 分组标题样式
 */
.group-title {
  font-size: 15px;                       /* 字体大小15px */
  font-weight: 600;                      /* 字体粗细600 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
  margin: 20px 0 12px 0;                 /* 外边距 */
  padding: 10px 16px;                    /* 内边距 */
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  border-radius: 16px;                   /* 圆角16px */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框颜色 */
  box-shadow: var(--shadow-sm);          /* 使用CSS变量设置阴影 */
  transition: all var(--transition-normal); /* 添加过渡效果 */
}

/**
 * 第一个分组标题样式
 */
.group-title:first-child {
  margin-top: 0;                         /* 移除顶部外边距 */
}

/**
 * 空状态样式
 */
.empty-state {
  text-align: center;                    /* 文字居中 */
  color: var(--text-placeholder);        /* 使用CSS变量设置文字颜色 */
  padding: 60px 20px;                    /* 内边距 */
  font-size: 16px;                       /* 字体大小16px */
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  border-radius: 24px;                   /* 圆角24px */
  margin: 20px;                          /* 外边距20px */
  box-shadow: var(--shadow-md);          /* 使用CSS变量设置阴影 */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框颜色 */
}

/* ==================== */
/* 单词项样式 */
/* ==================== */

/**
 * 单词项基础样式
 */
/* 定义旋转关键帧 */

/* 单词项基础样式 */
.word-item {
  background: transparent;
  border: none;
  border-radius: 20px;                   /* 稍微减小圆角，更精致 */
  padding: 24px;                         /* 增加内边距 */
  margin-bottom: 16px;
  transition: all var(--transition-normal);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-sm);          /* 默认阴影更轻 */
  transform-origin: center;
  animation: wordItemSlideIn 0.5s ease-out forwards;
  z-index: 1;
  transform: translateZ(0); /* 启用硬件加速 */
  will-change: transform, box-shadow; /* 提示浏览器提前准备动画 */
}

/* 单词项背景和边框层 */
.word-item::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--bg-word-card); /* 使用变量控制背景色 */
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  z-index: -1;
  transition: all 0.3s ease;
}

/* 单词项边框容器 - 实现空心边框效果 */
.word-border {
  position: absolute;
  inset: 0;
  padding: 6px; /* 边框宽度加宽 - 更显眼 */
  border-radius: 20px;
  pointer-events: none;
  z-index: 0;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
}

/* 流体边框动画层 - 炫彩流动效果 */
.word-border::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: var(--fluid-border-gradient);
  animation: borderRotate 4s linear infinite;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.word-border::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--fluid-border-gradient);
  filter: blur(10px); /* 降低模糊值，减少性能消耗 */
  opacity: 0;
  transition: opacity 0.3s ease;
  animation: borderPulse 3s ease-in-out infinite;
}

.word-item:hover .word-border::before {
  opacity: 0.8; /* 降低透明度，减少渲染压力 */
}

.word-item:hover .word-border::after {
  opacity: 0.2; /* 降低光晕强度，减少GPU消耗 */
}

.word-item:hover {
  transform: translateY(-4px) scale(1.01); /* 稍微放大 */
  box-shadow: var(--shadow-lg);
}

.word-item:hover::after {
  background: var(--bg-word-card-hover); /* 悬停时背景变化 */
  border-color: transparent;             /* 边框由流体动画接管 */
}

/* 单词文本样式优化 */
.word-text {
  font-size: 20px;                       /* 更大的标题 */
  font-weight: 700;
  color: var(--text-primary);
  margin-right: 8px;
  letter-spacing: -0.02em;
}

.word-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.word-title-row {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* 类型标签样式 */
.word-type {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 12px;
  background: rgba(0, 0, 0, 0.05);
  color: var(--text-secondary);
  font-weight: 600;
  text-transform: uppercase;
}

/* 统计数字样式 */
.word-count {
  font-size: 12px;
  color: var(--text-tertiary);
  font-weight: 500;
  background: rgba(255, 255, 255, 0.5);
  padding: 2px 8px;
  border-radius: 10px;
}

/* 翻译文本样式 */
.translation-text {
  font-size: 15px;
  color: var(--text-secondary);
  margin-bottom: 16px;
  line-height: 1.5;
  font-weight: 500;
}

/* 元数据样式 */
.word-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 12px;
  color: var(--text-placeholder);
}

.first-used, .last-used {
  display: flex;
  align-items: center;
  gap: 4px;
}

/* 单词项入场动画 */

/* ==================== */
/* 统计卡片样式优化 */
/* ==================== */

.stat-card {
  background: var(--bg-card);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--border-color);
  border-radius: 20px;
  padding: 20px 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.stat-card:hover {
  transform: translateY(-6px) scale(1.03); /* 减少缩放比例和位移 */
  box-shadow: 
    0 12px 24px rgba(0, 0, 0, 0.12),
    0 0 15px rgba(var(--accent-primary-rgb), 0.15); /* 简化阴影，减少GPU消耗 */
  border-color: var(--accent-primary);
  background: var(--bg-card-hover);
}

/* 统计卡片悬停光效 - 增强版 */
.stat-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    800px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
    rgba(255, 255, 255, 0.15),
    transparent 40%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

.stat-card:hover::before {
  opacity: 1;
}

/* 统计卡片角光 */
.stat-card::after {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 70%
  );
  opacity: 0;
  transition: opacity 0.4s ease;
}

.stat-card:hover::after {
  opacity: 1;
}

.stat-icon {
  font-size: 28px;
  margin-bottom: 4px;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.stat-card:hover .stat-icon {
  transform: scale(1.25) rotate(8deg);
}

.stat-title {
  font-size: 13px;
  color: var(--text-secondary);
  font-weight: 500;
  transition: color 0.3s ease;
}

.stat-card:hover .stat-title {
  color: var(--text-primary);
}

.stat-count {
  font-size: 24px;
  font-weight: 800;
  color: var(--text-primary);
  letter-spacing: -0.5px;
  background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-primary) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  transition: transform 0.3s ease;
}

.stat-card:hover .stat-count {
  transform: scale(1.1);
}

/* 详细翻译界面样式调整 */
/* ==================== */

/* 词性标题样式 */
.pos-title {
  font-size: 20px;
  color: var(--accent-primary);
  margin-bottom: 16px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* 释义项样式调整 */
.definition-item {
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
}

/* 释义索引样式 */
.definition-index {
  min-width: 30px;
  font-weight: 600;
  color: var(--accent-primary);
  text-align: right;
  flex-shrink: 0;
  font-size: 16px;
}

/* 释义文本样式调整 */
.definition-text {
  font-size: 16px;
  color: var(--text-primary);
  margin-bottom: 8px;
  font-weight: 500;
}

/* 释义翻译样式 */
.definition-translation {
  font-size: 15px;
  color: var(--text-secondary);
  font-style: italic;
  margin-left: 0;
}

/* 例句翻译样式 */
.example-translation {
  font-size: 14px;
  color: var(--text-secondary);
  margin-left: 20px;
  font-style: italic;
}

/* ==================== */
/* 同根词模块样式 */
/* ==================== */

/* 同根词区域样式 */
.word-roots {
  padding: 20px;
  background: var(--bg-highlight);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

/* 同根词标题样式 */
.word-roots h3 {
  margin-top: 0;
  margin-bottom: 16px;
  color: var(--text-primary);
  font-size: 18px;
}

/* 同根词列表样式 */
.roots-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

/* 同根词项样式 */
.root-item {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 12px;
  transition: all var(--transition-normal);
  cursor: pointer;
}

/* 同根词项悬停效果 */
.root-item:hover {
  background: var(--bg-card-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

/* 同根词单词样式 */
.root-word {
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
  font-size: 15px;
}

/* 同根词释义样式 */
.root-definition {
  font-size: 13px;
  color: var(--text-secondary);
  line-height: 1.4;
}

/* 单词项点击效果 */
.word-item:active {
  transform: translateY(-2px) scale(0.99);
  box-shadow: var(--shadow-md);
}

/* 单词项聚焦效果 - 支持键盘导航 */
.word-item:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
  border-color: var(--accent-primary);
}

/* 单词项聚焦状态样式 */
.word-item.focused {
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
}

/* 单词操作栏样式 */
.word-actions {
  display: flex;
  gap: 8px;
  justify-content: center;
  padding: 12px 0 0 0;
  margin-top: 12px;
  border-top: 1px dashed var(--border-color);
  opacity: 0;
  transform: translateY(-10px);
}

/* 操作按钮样式 */

/* 淡入向上动画 */

/* 淡出向下动画 */

/* 淡入动画 */

/* 缩放进入动画 */

/* 页面切换动画 */
.page {
  opacity: 0;
  transform: translateX(100%);
  transition: all var(--transition-normal);
}

.page.active {
  opacity: 1;
  transform: translateX(0);
}

/* 空状态增强样式 */
.empty-state {
  text-align: center;
  color: var(--text-placeholder);
  padding: 80px 20px;
  font-size: 16px;
  background: var(--bg-card);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border-radius: 28px;
  margin: 20px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
  animation: fadeIn 0.5s ease-out forwards;
}

/* 统计卡片增强样式 */
.stat-card {
  transition: all var(--transition-normal);
  cursor: pointer;
}

.stat-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--accent-primary);
}

/* 按钮点击反馈效果 */
button:active {
  transform: translateY(0) scale(0.98);
  transition: transform 0.1s ease;
}

/* ==================== */
/* 可访问性增强样式 */
/* ==================== */

/* 增强的焦点指示器 - 确保键盘用户能清晰看到焦点位置 */
button:focus,
input:focus,
select:focus,
textarea:focus,
.word-item:focus {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}

/* 键盘导航增强 - 为可聚焦元素添加明显的焦点样式 */
*:focus-visible {
  outline: 3px solid var(--accent-primary);
  outline-offset: 2px;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.8);
  transition: outline var(--transition-fast), outline-offset var(--transition-fast);
}

/* 改进颜色对比度 - 确保文字和背景有足够的对比度 */
.word-text {
  color: var(--text-primary);
  font-weight: 600;
}

.translation-text {
  color: var(--text-secondary);
  font-weight: 500;
}

/* 为屏幕阅读器优化的隐藏文本 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* 为可拖拽元素添加视觉提示 */
.word-item[draggable="true"] {
  cursor: grab;
}

.word-item[draggable="true"]:active {
  cursor: grabbing;
}

/* 拖拽过程中的元素样式 */
.word-item.dragging {
  opacity: 0.5;
  box-shadow: var(--shadow-lg);
}

/* 改进按钮可访问性 - 确保足够的点击区域 */
button {
  min-height: 44px;
  min-width: 44px;
  padding: 8px 16px;
  font-weight: 500;
}

/* 改进选择器可访问性 */
select {
  min-height: 44px;
  padding: 8px 16px;
}

/* 改进输入框可访问性 */
input {
  min-height: 44px;
  padding: 8px 16px;
}

/* 确保空状态文本有足够的对比度 */
.empty-state {
  color: var(--text-secondary);
  font-weight: 500;
}

/* 确保分页控件有良好的可访问性 */
.pagination-controls {
  display: flex;
  gap: 8px;
  justify-content: center;
  align-items: center;
  padding: 16px;
}

.pagination-controls button {
  min-height: 40px;
  min-width: 40px;
  padding: 8px 12px;
}

/* ==================== */
/* 详细翻译弹窗样式 */
/* ==================== */

/* 翻译弹窗容器样式 */
.translation-dialog {
  min-width: 600px;
  max-width: 80vw;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: scaleIn 0.3s ease-out forwards;
}

/* 翻译弹窗内容区域样式 */
.translation-content {
  padding: 24px;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* 翻译头部样式 */
.translation-header {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}

/* 翻译单词标题样式 */
.translation-word {
  font-size: 36px;
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

/* 音标样式 */
.translation-phonetic {
  font-size: 18px;
  color: var(--text-secondary);
  font-style: italic;
}

/* 主要中文释义样式 */
.translation-main-definition {
  font-size: 28px;
  font-weight: 700;
  margin: 12px 0 16px 0;
  padding: 16px 0;
  line-height: 1.5;
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
  animation: definitionFadeIn 0.6s ease-out forwards, definitionPulse 2s ease-in-out 1s infinite;
  position: relative;
  display: inline-block;
}

/* 主要释义淡入动画 - 优化版：使用transform和opacity，避免layout thrashing */

/* 主要释义轻微脉冲动画 - 优化版：仅使用transform和text-shadow，避免重绘 */

/* 主要释义装饰元素 - 优化版：使用绝对定位和transform，避免重排 */
.translation-main-definition::before,
.translation-main-definition::after {
  content: '';
  position: absolute;
  width: 40px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent-primary), transparent);
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.6;
  animation: definitionDecorPulse 3s ease-in-out infinite;
  pointer-events: none;
}

.translation-main-definition::before {
  left: -50px;
}

.translation-main-definition::after {
  right: -50px;
}

/* 装饰元素脉冲动画 - 优化版：仅使用transform和opacity */

/* 发音按钮样式 */
.pronunciation-btn {
  align-self: flex-start;
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 24px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all var(--transition-normal);
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.pronunciation-btn:hover {
  background: var(--bg-card-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

/* 主要释义区域样式 */
.main-definitions {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* 释义项样式 */
.definition-item {
  display: flex;
  gap: 12px;
}

/* 词性标签样式 */
.part-of-speech {
  min-width: 80px;
  font-weight: 600;
  color: var(--accent-primary);
  font-style: italic;
  text-align: right;
  flex-shrink: 0;
}

/* 释义内容样式 */
.definition-content {
  flex: 1;
}

/* 释义文本样式 */
.definition-text {
  font-size: 16px;
  color: var(--text-primary);
  margin-bottom: 8px;
}

/* 释义例句样式 */
.definition-example {
  font-size: 14px;
  color: var(--text-secondary);
  font-style: italic;
  margin-left: 20px;
}

/* 例句区域样式 */
.examples-section {
  padding: 20px;
  background: var(--bg-highlight);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.examples-section h3 {
  margin-top: 0;
  margin-bottom: 16px;
  color: var(--text-primary);
  font-size: 18px;
}

/* 例句列表样式 */
.examples-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* 单个例句样式 */
.example-item {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.example-source {
  font-size: 16px;
  color: var(--text-primary);
  font-weight: 500;
}

.example-translation {
  font-size: 14px;
  color: var(--text-secondary);
  margin-left: 20px;
}

/* 同义词/反义词区域样式 */
.synonyms-antonyms {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.synonyms, .antonyms {
  padding: 16px;
  background: var(--bg-highlight);
  border-radius: 12px;
  backdrop-filter: blur(10px);
}

.synonyms h4, .antonyms h4 {
  margin-top: 0;
  margin-bottom: 12px;
  color: var(--text-primary);
  font-size: 16px;
}

/* 同义词/反义词列表样式 */
.synonyms-list, .antonyms-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

/* 同义词/反义词标签样式 */
.synonym-item, .antonym-item {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 6px 12px;
  font-size: 14px;
  color: var(--text-primary);
  cursor: pointer;
  transition: all var(--transition-fast);
}

.synonym-item:hover, .antonym-item:hover {
  background: var(--bg-card-hover);
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  border-color: var(--accent-primary);
}

/* 相关词组区域样式 */
.related-phrases {
  padding: 20px;
  background: var(--bg-highlight);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.related-phrases h3 {
  margin-top: 0;
  margin-bottom: 16px;
  color: var(--text-primary);
  font-size: 18px;
}

/* 词组列表样式 */
.phrases-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

/* 词组项样式 */
.phrase-item {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 12px;
  transition: all var(--transition-normal);
  cursor: pointer;
}

.phrase-item:hover {
  background: var(--bg-card-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--accent-primary);
}

.phrase-text {
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 4px;
}

.phrase-translation {
  font-size: 13px;
  color: var(--text-secondary);
}

/* 词形变化区域样式 */
.word-forms {
  padding: 20px;
  background: var(--bg-highlight);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.word-forms h3 {
  margin-top: 0;
  margin-bottom: 16px;
  color: var(--text-primary);
  font-size: 18px;
}

/* 词形变化网格样式 */
.forms-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 12px;
}

/* 词形变化项样式 */
.form-item {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 12px;
  text-align: center;
  transition: all var(--transition-normal);
}

.form-item:hover {
  background: var(--bg-card-hover);
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
  border-color: var(--accent-primary);
}

.form-type {
  font-size: 12px;
  color: var(--text-tertiary);
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.form-value {
  font-weight: 600;
  color: var(--text-primary);
  font-size: 16px;
}

/* 更多信息区域样式 */
.more-info {
  padding: 20px;
  background: var(--bg-highlight);
  border-radius: 16px;
  backdrop-filter: blur(10px);
}

.more-info h3 {
  margin-top: 0;
  margin-bottom: 16px;
  color: var(--text-primary);
  font-size: 18px;
}

/* 信息网格样式 */
.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
}

/* 信息项样式 */
.info-item {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.info-label {
  font-size: 13px;
  color: var(--text-tertiary);
  font-weight: 500;
}

.info-value {
  font-size: 14px;
  color: var(--text-primary);
  font-weight: 600;
}

/* 翻译弹窗按钮区域样式 */
.translation-dialog .dialog-actions {
  display: flex;
  gap: 12px;
  padding: 16px 24px;
  border-top: 1px solid var(--border-color);
  justify-content: flex-end;
  background: var(--bg-highlight);
}

/* 翻译弹窗按钮样式 */
.translation-dialog .action-btn {
  min-height: 40px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 600;
  border-radius: 20px;
  transition: all var(--transition-normal);
}

.translation-dialog .copy-btn:hover {
  background: rgba(102, 126, 234, 0.1);
  border-color: var(--accent-primary);
}

.translation-dialog .share-btn:hover {
  background: rgba(56, 161, 105, 0.1);
  border-color: var(--accent-success);
}

.translation-dialog .dialog-actions .action-btn:last-child:hover {
  background: rgba(222, 100, 100, 0.1);
  border-color: var(--accent-danger);
}

/* 翻译弹窗动画效果 */

/* 加载状态样式 */
.dialog-loading-state {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  animation: loadingFadeIn 0.3s ease-out forwards;
}

/* 加载状态淡入动画 */

/* 加载旋转动画 */

/* 加载动画容器 */
.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
}

/* 改进的加载旋转器 */
.loading-spinner {
  width: 60px;
  height: 60px;
  border: 4px solid rgba(102, 126, 234, 0.1);
  border-top: 4px solid var(--accent-primary);
  border-right: 4px solid var(--accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite, spinnerPulse 2s ease-in-out infinite;
  box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
  position: relative;
}

/* 加载旋转器脉冲效果 */

/* 加载旋转器内部装饰 */
.loading-spinner::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 40px;
  height: 40px;
  border: 2px solid rgba(122, 74, 162, 0.2);
  border-bottom: 2px solid var(--accent-secondary);
  border-left: 2px solid var(--accent-secondary);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  animation: spin 1.5s linear infinite reverse;
}

/* 加载文字样式 */
.loading-text {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
  animation: loadingTextPulse 1.5s ease-in-out infinite;
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* 加载文字脉冲效果 */

/* 区域加载状态样式 */
.section-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px;
  gap: 12px;
  color: var(--text-secondary);
}

/* 小型加载旋转器 */
.section-loading-spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(102, 126, 234, 0.1);
  border-top: 3px solid var(--accent-primary);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* 区域加载文字 */
.section-loading-text {
  font-size: 14px;
  color: var(--text-tertiary);
}

/* 响应式设计 */
@media (max-width: 768px) {
  .translation-dialog {
    min-width: 95vw;
    max-width: 95vw;
    max-height: 95vh;
  }
  
  .synonyms-antonyms {
    grid-template-columns: 1fr;
  }
  
  .translation-word {
    font-size: 28px;
  }
  
  .phrases-list,
  .forms-grid,
  .info-grid {
    grid-template-columns: 1fr;
  }
}

/* ==================== */
/* 单词项内部布局 */
/* ==================== */

/**
 * 单词项头部布局
 */
.word-header {
  display: flex;                         /* 弹性布局 */
  justify-content: space-between;         /* 两端对齐 */
  align-items: flex-start;                /* 顶部对齐 */
  margin-bottom: 10px;                   /* 下边距10px */
  flex-wrap: wrap;                       /* 允许换行 */
  gap: 8px;                              /* 子元素间距8px */
}

/**
 * 单词标题行布局
 */
.word-title-row {
  display: flex;                         /* 弹性布局 */
  align-items: center;                   /* 垂直居中 */
  gap: 8px;                              /* 子元素间距8px */
  flex-wrap: wrap;                       /* 允许换行 */
}

/**
 * 星标按钮样式
 */
.star-btn {
  background: transparent;                /* 透明背景 */
  border: none;                          /* 无边框 */
  cursor: pointer;                       /* 鼠标指针为手型 */
  padding: 4px;                          /* 内边距4px */
  border-radius: 50%;                    /* 圆形 */
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* 弹性过渡 */
  display: flex;                         /* 弹性布局 */
  align-items: center;                   /* 水平居中 */
  justify-content: center;               /* 垂直居中 */
}

/**
 * 星标图标样式
 * 星标按钮内的图标元素样式
 */
.star-icon {
  font-size: 20px;                       /* 图标字体大小20px */
  transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* 弹性过渡 */
  filter: grayscale(100%);               /* 初始灰度化 */
  opacity: 0.5;                          /* 初始透明度50% */
}

.star-btn:hover .star-icon {
  transform: scale(1.2);                  /* 悬停时放大1.2倍 */
  filter: grayscale(0%);                  /* 悬停时取消灰度 */
  opacity: 0.8;                          /* 悬停时透明度80% */
}

.star-btn.starred .star-icon {
  filter: grayscale(0%);                  /* 已收藏时取消灰度 */
  opacity: 1;                             /* 已收藏时完全不透明 */
  animation: starPulse 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); /* 脉冲动画 */
}

/* 星标脉冲动画 */

/* ==================== */
/* 加载状态和错误信息样式 */
/* ==================== */

/* 对话框加载状态样式 */
.dialog-loading-state {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.8);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;
  z-index: 100;
  border-radius: 24px;
}

/* 加载动画 */
.loading-spinner {
  width: 60px;
  height: 60px;
  border: 3px solid rgba(102, 126, 234, 0.3);
  border-top: 3px solid var(--accent-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* 加载文本 */
.loading-text {
  font-size: 16px;
  color: var(--text-primary);
  font-weight: 600;
}

/* 对话框错误信息样式 */
.dialog-error-message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  padding: 24px;
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 16px;
  z-index: 100;
  text-align: center;
  max-width: 80%;
}

/* 错误图标 */
.error-icon {
  font-size: 48px;
}

/* 错误文本 */
.error-text {
  font-size: 16px;
  color: var(--text-primary);
  font-weight: 500;
}

/* 无内容提示样式 */
.no-content {
  font-size: 14px;
  color: var(--text-tertiary);
  text-align: center;
  padding: 16px;
  background: var(--bg-highlight);
  border-radius: 12px;
  margin: 8px 0;
  font-style: italic;
}

/* 旋转动画 */

.star-btn.starred:hover .star-icon {
  transform: scale(1.4) rotate(15deg);    /* 已收藏悬停时更大旋转 */
  animation: starSpin 0.6s ease-in-out;   /* 旋转动画 */
}

/**
 * 单词文字样式
 * 显示单词或短语的主要文字样式
 */
.word-text {
  font-size: 18px;                       /* 单词文字大小18px */
  font-weight: 600;                      /* 字体粗细600 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
  letter-spacing: -0.3px;                /* 字间距-0.3px */
}

/**
 * 单词计数样式
 * 显示单词出现次数的计数标签样式
 */
.word-count {
  background: rgba(102, 126, 234, 0.15); /* 蓝色半透明背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  color: var(--accent-primary);          /* 使用CSS变量设置文字颜色 */
  padding: 6px 14px;                     /* 内边距6px 14px */
  border-radius: 24px;                   /* 圆角24px */
  font-size: 12px;                       /* 字体大小12px */
  font-weight: 600;                      /* 字体粗细600 */
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2); /* 蓝色阴影 */
  letter-spacing: 0.3px;                /* 字间距0.3px */
  white-space: nowrap;                   /* 不换行 */
  border: 1px solid rgba(102, 126, 234, 0.2); /* 蓝色边框 */
}

/**
 * 单词类型标签样式
 * 显示单词类型的通用样式
 */
.word-type {
  padding: 5px 12px;                     /* 内边距5px 12px */
  border-radius: 16px;                   /* 圆角16px */
  font-size: 11px;                       /* 字体大小11px */
  font-weight: 600;                      /* 字体粗细600 */
  white-space: nowrap;                   /* 不换行 */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框颜色 */
  box-shadow: var(--shadow-sm);          /* 使用CSS变量设置阴影 */
}

/**
 * 单词类型样式 - 单词
 * 单词类型标签的绿色样式
 */
.type-word {
  background: rgba(132, 250, 176, 0.3);  /* 绿色半透明背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
}

/**
 * 单词类型样式 - 短语
 * 单词类型标签的青色样式
 */
.type-phrase {
  background: rgba(168, 237, 234, 0.3);  /* 青色半透明背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
}

/**
 * 单词类型样式 - 句子
 * 单词类型标签的橙色样式
 */
.type-sentence {
  background: rgba(255, 236, 210, 0.4);  /* 橙色半透明背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
}

/**
 * 翻译文字样式
 * 显示单词翻译内容的文字样式
 */
.translation-text {
  color: var(--text-secondary);          /* 使用CSS变量设置文字颜色 */
  font-size: 14px;                       /* 字体大小14px */
  margin-bottom: 12px;                   /* 下边距12px */
  line-height: 1.6;                      /* 行高1.6 */
  font-weight: 500;                      /* 字体粗细500 */
  padding: 12px 16px;                    /* 内边距12px 16px */
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  border-radius: 12px;                   /* 圆角12px */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框颜色 */
  box-shadow: var(--shadow-sm);          /* 使用CSS变量设置阴影 */
}

/**
 * 单词元信息样式
 * 显示单词元数据（如时间、操作按钮）的区域样式
 */
.word-meta {
  display: flex;                         /* 弹性布局 */
  justify-content: space-between;         /* 两端对齐 */
  align-items: center;                   /* 垂直居中 */
  font-size: 12px;                       /* 字体大小12px */
  color: var(--text-tertiary);           /* 使用CSS变量设置文字颜色 */
  padding-top: 12px;                     /* 上内边距12px */
  border-top: 1px solid var(--border-color); /* 使用CSS变量设置边框颜色 */
  margin-top: 12px;                      /* 上外边距12px */
}

/**
 * 删除按钮样式
 * 删除单词的按钮样式
 */

/* ==================== */
/* 控制按钮组样式 */
/* ==================== */

.control-buttons {
  display: flex;                         /* 弹性布局 */
  gap: 8px;                              /* 按钮间距8px */
  align-items: center;                   /* 垂直居中对齐 */
}

/* ==================== */
/* 设置页面样式 */
/* ==================== */

.settings-content {
  padding: 20px;                           /* 内边距20px */
  max-height: 500px;                       /* 最大高度500px */
  overflow-y: auto;                        /* 垂直滚动 */
}

.settings-section {
  margin-bottom: 30px;                     /* 下外边距30px */
  padding: 20px;                           /* 内边距20px */
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(10px);             /* 背景模糊效果 */
  -webkit-backdrop-filter: blur(10px);     /* Safari兼容 */
  border-radius: 16px;                     /* 圆角16px */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框 */
}

.settings-section h3 {
  margin-bottom: 20px;                   /* 下外边距20px */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
  font-size: 16px;                       /* 字体大小16px */
  font-weight: 600;                      /* 字体粗细600 */
}

.setting-item {
  margin-bottom: 20px;                     /* 下外边距20px */
  display: flex;                           /* 弹性布局 */
  align-items: center;                     /* 垂直居中对齐 */
  gap: 15px;                               /* 元素间距15px */
}

.setting-item label {
  min-width: 120px;                        /* 最小宽度120px */
  font-weight: 500;                        /* 字体粗细500 */
  color: var(--text-primary);              /* 使用CSS变量设置文字颜色 */
}

.setting-item input[type="text"],
.setting-item input[type="password"],
.setting-item input[type="number"],
.setting-item select {
  flex: 1;                                 /* 占据剩余空间 */
  padding: 10px 15px;                      /* 内边距10px 15px */
  background: var(--bg-input);             /* 使用CSS变量设置背景 */
  border: 1px solid var(--border-color);   /* 使用CSS变量设置边框 */
  border-radius: 8px;                     /* 圆角8px */
  font-size: 14px;                        /* 字体大小14px */
  color: var(--text-primary);              /* 使用CSS变量设置文字颜色 */
}

.color-picker-group {
  display: flex;                           /* 弹性布局 */
  gap: 15px;                               /* 颜色选择器间距15px */
  flex-wrap: wrap;                         /* 允许换行 */
}

.color-item {
  display: flex;                           /* 弹性布局 */
  align-items: center;                     /* 垂直居中对齐 */
  gap: 8px;                                /* 元素间距8px */
}

.color-item input[type="color"] {
  width: 40px;                             /* 宽度40px */
  height: 30px;                            /* 高度30px */
  border: none;                            /* 无边框 */
  border-radius: 6px;                      /* 圆角6px */
  cursor: pointer;                         /* 鼠标指针为手型 */
}

.settings-action-btn {
  padding: 10px 18px;                       /* 增加内边距 */
  background: var(--bg-secondary);          /* 使用主题变量 */
  backdrop-filter: blur(10px);              /* 毛玻璃效果 */
  -webkit-backdrop-filter: blur(10px);
  color: var(--text-primary);               /* 使用主题文字颜色 */
  border: 1.5px solid var(--border-color);  /* 添加边框 */
  border-radius: 10px;                      /* 增大圆角 */
  font-size: 14px;                          /* 字体大小14px */
  font-weight: 600;                         /* 增加字体粗细 */
  cursor: pointer;                          /* 鼠标指针为手型 */
  transition: all var(--transition-normal); /* 使用主题过渡 */
  margin-right: 10px;                       /* 右外边距10px */
  display: inline-flex;                     /* 弹性布局 */
  align-items: center;                      /* 垂直居中 */
  justify-content: center;                  /* 水平居中 */
  gap: 6px;                                 /* 图标与文字间距 */
}

.settings-action-btn .icon-svg {
  width: 16px;
  height: 16px;
  stroke: currentColor;
}

.settings-action-btn:hover {
  background: var(--bg-tertiary);           /* 悬停时使用主题背景 */
  transform: translateY(-2px);              /* 向上移动2px */
  box-shadow: var(--shadow-md);             /* 添加阴影 */
  border-color: var(--accent-primary);      /* 边框颜色变为主题色 */
}

.settings-action-btn:active {
  transform: translateY(0);                 /* 点击时恢复 */
  box-shadow: var(--shadow-sm);             /* 减少阴影 */
}

/* 按钮组容器 - 用于设置页面的按钮组合 */
.button-group {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.button-group .settings-action-btn {
  flex: 1;
  min-width: 120px;
  margin-right: 0;                          /* 移除单独的右边距 */
}

.reset-btn {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15)) !important;
  border-color: rgba(239, 68, 68, 0.4) !important;
  color: #ef4444 !important;
}

.reset-btn:hover {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.25), rgba(220, 38, 38, 0.25)) !important;
  border-color: rgba(239, 68, 68, 0.7) !important;
}

.settings-actions {
  display: flex;                           /* 弹性布局 */
  justify-content: flex-end;               /* 右对齐 */
  gap: 15px;                               /* 按钮间距15px */
  margin-top: 30px;                        /* 上外边距30px */
  padding-top: 20px;                       /* 上内边距20px */
  border-top: 1px solid rgba(0, 0, 0, 0.1); /* 顶部边框 */
}

.save-btn, .cancel-btn {
  padding: 12px 24px;                      /* 内边距12px 24px */
  border: none;                            /* 无边框 */
  border-radius: 12px;                     /* 圆角12px */
  font-size: 16px;                        /* 字体大小16px */
  font-weight: 600;                       /* 字体粗细600 */
  cursor: pointer;                          /* 鼠标指针为手型 */
  transition: all 0.3s ease;              /* 过渡动画 */
}

.save-btn {
  background: rgba(40, 167, 69, 0.8);      /* 绿色半透明背景 */
  color: white;                            /* 白色文字 */
}

.save-btn:hover {
  background: rgba(40, 167, 69, 0.95);   /* 悬停时更不透明 */
  transform: translateY(-1px);           /* 向上移动1px */
}

.cancel-btn {
  background: rgba(108, 117, 125, 0.8);  /* 灰色半透明背景 */
  color: white;                            /* 白色文字 */
}

.cancel-btn:hover {
  background: rgba(108, 117, 125, 0.95); /* 悬停时更不透明 */
  transform: translateY(-1px);             /* 向上移动1px */
}

/* ==================== */
/* 对话框样式 */
/* ==================== */

.dialog-overlay {
  position: fixed;                           /* 固定定位 */
  top: 0;                                  /* 顶部对齐 */
  left: 0;                                 /* 左侧对齐 */
  right: 0;                                /* 右侧对齐 */
  bottom: 0;                               /* 底部对齐 */
  background: rgba(0, 0, 0, 0.5);        /* 半透明黑色背景 */
  backdrop-filter: blur(5px);             /* 背景模糊效果 */
  -webkit-backdrop-filter: blur(5px);     /* Safari兼容 */
  z-index: 1000;                           /* 最高层级 */
  display: flex;                           /* 弹性布局 */
  align-items: center;                     /* 垂直居中对齐 */
  justify-content: center;                 /* 水平居中对齐 */
}

.dialog {
  background: rgba(255, 255, 255, 0.9);   /* 半透明白色背景 */
  backdrop-filter: blur(20px);              /* 背景模糊效果 */
  -webkit-backdrop-filter: blur(20px);    /* Safari兼容 */
  border-radius: 20px;                     /* 圆角20px */
  border: 1px solid rgba(255, 255, 255, 0.3); /* 半透明边框 */
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); /* 强烈阴影效果 */
  min-width: 400px;                        /* 最小宽度400px */
  max-width: 90vw;                         /* 最大宽度90%视口宽度 */
  max-height: 80vh;                        /* 最大高度80%视口高度 */
  overflow: hidden;                        /* 隐藏溢出内容 */
}

.dialog-header {
  display: flex;                           /* 弹性布局 */
  justify-content: space-between;          /* 两端对齐 */
  align-items: center;                     /* 垂直居中对齐 */
  padding: 20px;                           /* 内边距20px */
  border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* 底部边框 */
}

.dialog-header h3 {
  margin: 0;                               /* 无外边距 */
  color: #2c3e50;                          /* 深蓝色文字 */
  font-size: 18px;                         /* 字体大小18px */
  font-weight: 600;                        /* 字体粗细600 */
}

.dialog-close {
  background: none;                        /* 无背景 */
  border: none;                            /* 无边框 */
  font-size: 24px;                         /* 字体大小24px */
  color: #999;                             /* 灰色文字 */
  cursor: pointer;                         /* 鼠标指针为手型 */
  padding: 0;                              /* 无内边距 */
  width: 30px;                             /* 宽度30px */
  height: 30px;                            /* 高度30px */
  display: flex;                           /* 弹性布局 */
  align-items: center;                     /* 垂直居中对齐 */
  justify-content: center;                 /* 水平居中对齐 */
  border-radius: 50%;                      /* 圆形按钮 */
  transition: all 0.3s ease;               /* 过渡动画 */
}

.dialog-close:hover {
  background: rgba(0, 0, 0, 0.1);        /* 悬停时浅色背景 */
  color: #666;                             /* 悬停时深灰色文字 */
}

.dialog-content {
  padding: 20px;                           /* 内边距20px */
  max-height: 400px;                       /* 最大高度400px */
  overflow-y: auto;                        /* 垂直滚动 */
}

.dialog-actions {
  display: flex;                           /* 弹性布局 */
  justify-content: flex-end;               /* 右对齐 */
  gap: 15px;                               /* 按钮间距15px */
  padding: 20px;                           /* 内边距20px */
  border-top: 1px solid rgba(0, 0, 0, 0.1); /* 顶部边框 */
}

.confirm-btn, .cancel-btn {
  padding: 10px 20px;                      /* 内边距10px 20px */
  border: none;                            /* 无边框 */
  border-radius: 12px;                     /* 圆角12px */
  font-size: 14px;                         /* 字体大小14px */
  font-weight: 600;                        /* 字体粗细600 */
  cursor: pointer;                         /* 鼠标指针为手型 */
  transition: all 0.3s ease;               /* 过渡动画 */
}

.confirm-btn {
  background: rgba(40, 167, 69, 0.8);    /* 绿色半透明背景 */
  color: white;                            /* 白色文字 */
}

.confirm-btn:hover:not(:disabled) {
  background: rgba(40, 167, 69, 0.95);  /* 悬停时更不透明 */
  transform: translateY(-1px);             /* 向上移动1px */
}

.confirm-btn:disabled {
  background: rgba(108, 117, 125, 0.5);  /* 禁用时的灰色背景 */
  color: rgba(255, 255, 255, 0.6);      /* 禁用时的浅色文字 */
  cursor: not-allowed;                     /* 禁用鼠标样式 */
}

.cancel-btn {
  background: rgba(108, 117, 125, 0.8);  /* 灰色半透明背景 */
  color: white;                            /* 白色文字 */
}

.cancel-btn:hover {
  background: rgba(108, 117, 125, 0.95);   /* 悬停时更不透明 */
  transform: translateY(-1px);             /* 向上移动1px */
}

/* 导入导出选项 */
.import-options, .export-options, .export-format {
  margin-bottom: 20px;                     /* 下外边距20px */
}

.import-options label, .export-options label, .export-format label {
  display: block;                          /* 块级元素 */
  margin-bottom: 8px;                      /* 下外边距8px */
  font-weight: 500;                        /* 字体粗细500 */
  color: #34495e;                          /* 深灰色文字 */
}

.import-options select, .export-options select, .export-format select {
  width: 100%;                             /* 宽度100% */
  padding: 10px 15px;                      /* 内边距10px 15px */
  background: rgba(255, 255, 255, 0.6);   /* 半透明白色背景 */
  border: 1px solid rgba(0, 0, 0, 0.1);   /* 浅色边框 */
  border-radius: 8px;                     /* 圆角8px */
  font-size: 14px;                        /* 字体大小14px */
}

.file-upload {
  margin-bottom: 20px;                     /* 下外边距20px */
}

.file-input {
  display: none;                           /* 隐藏原文件输入 */
}

.file-label {
  display: inline-block;                   /* 行内块级元素 */
  padding: 12px 20px;                      /* 内边距12px 20px */
  background: rgba(74, 144, 226, 0.8);   /* 蓝色半透明背景 */
  color: white;                            /* 白色文字 */
  border-radius: 12px;                     /* 圆角12px */
  font-size: 14px;                         /* 字体大小14px */
  font-weight: 500;                        /* 字体粗细500 */
  cursor: pointer;                         /* 鼠标指针为手型 */
  transition: all 0.3s ease;               /* 过渡动画 */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 半透明边框 */
}

.file-label:hover {
  background: rgba(74, 144, 226, 0.95);  /* 悬停时更不透明 */
  transform: translateY(-1px);             /* 向上移动1px */
}

.import-preview, .export-stats {
  padding: 15px;                           /* 内边距15px */
  background: rgba(255, 255, 255, 0.3);   /* 浅色半透明背景 */
  border-radius: 12px;                     /* 圆角12px */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 半透明边框 */
}

.import-preview h4 {
  margin-bottom: 10px;                     /* 下外边距10px */
  color: #2c3e50;                          /* 深蓝色文字 */
  font-size: 14px;                         /* 字体大小14px */
  font-weight: 600;                        /* 字体粗细600 */
}

#previewContent {
  max-height: 150px;                       /* 最大高度150px */
  overflow-y: auto;                        /* 垂直滚动 */
  font-size: 12px;                         /* 字体大小12px */
  color: #34495e;                          /* 深灰色文字 */
}

.export-stats {
  text-align: center;                      /* 文字居中 */
  font-weight: 500;                        /* 字体粗细500 */
  color: #34495e;                          /* 深灰色文字 */
}

.word-list::-webkit-scrollbar,
.virtual-scroll-container::-webkit-scrollbar {
  width: 8px;                            /* 滚动条宽度8px */
}

.word-list::-webkit-scrollbar-track,
.virtual-scroll-container::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.2);  /* 轨道背景半透明 */
  border-radius: 10px;                   /* 圆角10px */
}

.word-list::-webkit-scrollbar-thumb,
.virtual-scroll-container::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);        /* 滑块背景半透明黑色 */
  backdrop-filter: blur(10px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(10px);   /* Safari兼容 */
  border-radius: 10px;                   /* 圆角10px */
  border: 1px solid rgba(255, 255, 255, 0.2); /* 边框 */
}

.word-list::-webkit-scrollbar-thumb:hover,
.virtual-scroll-container::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);        /* 悬停时更深的背景 */
}

/* ==================== */
/* 首页样式 */
/* ==================== */

/**
 * 首页内容样式
 * 首页主要内容的网格布局容器，左右两列布局
 */
.home-content {
  flex: 1;                               /* 占据剩余空间 */
  padding: 24px;                         /* 内边距24px */
  display: grid;                         /* 网格布局 */
  grid-template-columns: 1fr 2fr;         /* 左侧1份宽度，右侧2份宽度 */
  gap: 20px;                             /* 网格间距20px */
  overflow-y: auto;                      /* 垂直滚动 */
}

/* ==================== */
/* 统计面板样式 */
/* ==================== */

/**
 * 统计面板样式
 * 左侧统计面板容器，垂直排列四个统计卡片
 */
.stats-panel {
  display: flex;                         /* 弹性布局 */
  flex-direction: column;                 /* 垂直排列 */
  gap: 12px;                             /* 子元素间距12px */
}

/**
 * 统计卡片样式
 * 单个统计卡片的毛玻璃效果样式
 */
.stat-card {
  background: var(--bg-card);            /* 使用CSS变量设置背景 */
  backdrop-filter: blur(15px);           /* 背景模糊 */
  -webkit-backdrop-filter: blur(15px);   /* Safari兼容 */
  border: 1px solid var(--border-color); /* 使用CSS变量设置边框 */
  border-radius: 16px;                   /* 圆角16px */
  padding: 16px;                         /* 内边距16px */
  cursor: pointer;                       /* 鼠标指针为手型 */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* 缓动过渡 */
  box-shadow: var(--shadow-md);          /* 使用CSS变量设置阴影 */
  display: flex;                         /* 弹性布局 */
  flex-direction: column;                 /* 垂直排列 */
  align-items: center;                   /* 水平居中 */
  justify-content: center;               /* 垂直居中 */
  text-align: center;                    /* 文字居中 */
  position: relative;                    /* 相对定位 */
  overflow: hidden;                      /* 隐藏溢出 */
  transform: translateY(0);              /* 初始位置 */
  animation: cardFadeIn 0.6s ease-out;     /* 卡片淡入动画 */
}

/**
 * 统计卡片悬停效果
 */
.stat-card:hover {
  background: var(--bg-card-hover);      /* 使用CSS变量设置悬停背景 */
  transform: translateY(-8px) scale(1.02); /* 向上移动8px并轻微放大 */
  box-shadow: var(--shadow-lg);          /* 使用CSS变量设置悬停阴影 */
  border-color: var(--border-hover);     /* 使用CSS变量设置悬停边框 */
}

/**
 * 统计卡片激活效果
 */
.stat-card:active {
  transform: translateY(-4px) scale(1.01); /* 点击时轻微下压 */
  transition: all 0.1s ease;              /* 快速过渡效果 */
}

/**
 * 统计卡片激活效果
 */
.stat-card:active {
  transform: translateY(-1px);           /* 点击时位置调整 */
}

/**
 * 统计图标样式
 * 统计卡片中的图标样式
 */
.stat-icon {
  font-size: 32px;                       /* 图标大小32px */
  margin-bottom: 8px;                    /* 下边距8px */
  position: relative;                    /* 相对定位 */
  z-index: 1;                            /* 层级1 */
  transition: transform 0.3s ease;       /* 变换过渡 */
}

/**
 * 统计卡片悬停时图标效果
 */
.stat-card:hover .stat-icon {
  transform: scale(1.1) rotate(5deg);     /* 悬停时放大并旋转 */
}

/**
 * 卡片淡入动画
 * 页面加载时卡片从下方淡入
 */

/**
 * 统计标题样式
 * 统计卡片的标题文字样式
 */
.stat-title {
  font-size: 14px;                       /* 标题大小14px */
  font-weight: 600;                      /* 字体粗细600 */
  color: var(--text-primary);            /* 使用CSS变量设置文字颜色 */
  margin-bottom: 6px;                    /* 下边距6px */
  position: relative;                    /* 相对定位 */
  z-index: 1;                            /* 层级1 */
}

/**
 * 统计计数样式
 * 统计卡片中的数字计数样式
 */
.stat-count {
  font-size: 20px;                       /* 计数大小20px */
  font-weight: 700;                      /* 字体粗细700 */
  color: var(--accent-primary);          /* 使用CSS变量设置文字颜色 */
  position: relative;                    /* 相对定位 */
  z-index: 1;                            /* 层级1 */
}

/* ====================
   首次使用引导样式
   ==================== */
.guide-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  animation: fadeIn 0.3s ease;
}

.guide-card {
  background: white;
  width: 85%;
  max-width: 320px;
  border-radius: 20px;
  padding: 30px 20px;
  text-align: center;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
  animation: slideUp 0.4s ease;
}

.guide-steps {
  position: relative;
  height: 200px;
  margin-bottom: 20px;
}

.guide-step {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transform: translateX(20px);
  transition: all 0.4s ease;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.guide-step.active {
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
}

.guide-icon {
  font-size: 48px;
  margin-bottom: 20px;
  background: linear-gradient(135deg, #e0f7fa 0%, #e1bee7 100%);
  width: 80px;
  height: 80px;
  line-height: 80px;
  border-radius: 50%;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.guide-step h3 {
  font-size: 20px;
  color: #333;
  margin-bottom: 10px;
}

.guide-step p {
  font-size: 14px;
  color: #666;
  line-height: 1.5;
}

.guide-controls {
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.dont-show-again {
  font-size: 12px;
  color: #888;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 5px;
  cursor: pointer;
}

.guide-buttons {
  display: flex;
  justify-content: center;
}

.guide-buttons button {
  min-width: 120px;
  border-radius: 25px;
  box-shadow: 0 4px 12px rgba(74, 144, 226, 0.3);
}

.guide-dots {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 20px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #ddd;
  transition: all 0.3s ease;
}

.dot.active {
  background: #4a90e2;
  width: 16px;
  border-radius: 4px;
}

/* ==================== */
/* 恢复模式样式 (Recovery Mode) */
/* ==================== */

.recovery-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  animation: fadeIn 0.3s ease-out;
}

.recovery-card {
  background: white;
  padding: 32px;
  border-radius: 16px;
  text-align: center;
  max-width: 80%;
  width: 400px;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.recovery-card h3 {
  margin-bottom: 16px;
  color: #e53e3e;
  font-size: 1.5rem;
}

.recovery-card p {
  color: #4a5568;
  margin-bottom: 24px;
  line-height: 1.6;
}

.recovery-actions {
  display: flex;
  gap: 16px;
  justify-content: center;
}

.recovery-actions button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s;
}

.recovery-actions button#reloadPlugin {
  background: #667eea;
  color: white;
}

.recovery-actions button#reloadPlugin:hover {
  background: #5a67d8;
  transform: translateY(-2px);
}

.recovery-actions button.danger {
  background: #fff5f5;
  color: #c53030;
  border: 1px solid #fed7d7;
}

.recovery-actions button.danger:hover {
  background: #fed7d7;
}

@media (prefers-color-scheme: dark) {
  .recovery-card {
    background: #1a202c;
    border-color: #2d3748;
  }
  .recovery-card p {
    color: #a0aec0;
  }
  .recovery-actions button.danger {
    background: #2d3748;
    color: #fc8181;
    border-color: #4a5568;
  }
}

/* ==================== */
/* 学习模式选择页面样式 */
/* ==================== */

.mode-selection-content {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  padding: 16px;
}

.mode-card {
  display: flex;
  align-items: center;
  background: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.mode-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: var(--accent-primary);
  background: var(--bg-tertiary);
}

.mode-icon {
  font-size: 32px;
  margin-right: 16px;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--bg-tertiary);
  border-radius: 50%;
}

.mode-info h3 {
  margin: 0 0 4px 0;
  font-size: 16px;
  color: var(--text-primary);
}

.mode-info p {
  margin: 0;
  font-size: 13px;
  color: var(--text-secondary);
}

/* ==================== */
/* 学习模式静态标识样式 */
/* ==================== */

.current-mode-container {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.current-mode-badge {
  background: var(--bg-secondary);
  color: var(--text-primary);
  padding: 8px 24px;
  border-radius: 20px;
  font-size: 14px;
  font-weight: 500;
  border: 1px solid var(--accent-primary);
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: default;
  backdrop-filter: blur(5px);
}

/* ==================== */
/* 粒子特效 Canvas 样式 */
/* ==================== */

#modeSelectionPage {
  position: relative; /* 确保内容在 Canvas 之上 */
  overflow: hidden;   /* 防止 Canvas 溢出 */
}

#particleCanvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: auto; /* 允许鼠标交互 */
}

/* 调整选择页面内容的层级和背景 */
.mode-selection-content,
#modeSelectionPage .header {
  position: relative;
  z-index: 1; /* 置于 Canvas 之上 */
}

/* 优化模式卡片样式 - 毛玻璃效果 */
.mode-card {
  background: rgba(255, 255, 255, 0.15); /* 更通透的背景 */
  backdrop-filter: blur(12px);          /* 增强模糊效果 */
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
}

.mode-card:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  border-color: var(--accent-primary);
}

/* 暗色主题适配 */
[data-theme="dark"] .mode-card {
  background: rgba(30, 41, 59, 0.4);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .mode-card:hover {
  background: rgba(30, 41, 59, 0.6);
  border-color: var(--accent-primary);
}

.mode-icon {
  background: rgba(255, 255, 255, 0.2); /* 图标背景也半透明 */
  color: var(--text-primary);
}

/* ==================== */
/* 新版图标式模式选择样式 */
/* ==================== */

.mode-icons-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 24px;
  padding: 40px 10px;
  width: 100%;
}

.mode-icon-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  width: 100px; /* 固定宽度确保布局对齐 */
}

/* 玻璃拟态图标圆环 */
.mode-icon-circle {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

/* 图标内流光效果 */
.mode-icon-circle::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 60%);
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.5s ease;
}

.mode-emoji {
  font-size: 32px;
  z-index: 1;
  transition: transform 0.3s ease;
}

/* 标签样式 */
.mode-label {
  text-align: center;
  transition: all 0.3s ease;
}

.mode-label h3 {
  margin: 0 0 4px 0;
  font-size: 14px;
  color: var(--text-primary);
  font-weight: 600;
}

.mode-label p {
  margin: 0;
  font-size: 12px;
  color: var(--text-secondary);
  opacity: 0.8;
}

/* 悬停交互效果 */
.mode-icon-item:hover {
  transform: translateY(-8px);
}

.mode-icon-item:hover .mode-icon-circle {
  background: rgba(255, 255, 255, 0.2);
  border-color: var(--accent-primary);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

.mode-icon-item:hover .mode-icon-circle::after {
  opacity: 1;
  transform: scale(1);
}

.mode-icon-item:hover .mode-emoji {
  transform: scale(1.15);
}

.mode-icon-item:hover .mode-label h3 {
  color: var(--accent-primary);
}

/* 暗色模式适配 */
[data-theme="dark"] .mode-icon-circle {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .mode-icon-item:hover .mode-icon-circle {
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--accent-primary);
}

/* ==================== */
/* 返回按钮样式升级 - 玻璃拟态与流光效果 */
/* ==================== */

/* ==================== */
/* SVG 图标样式 */
/* ==================== */

.mode-icon-svg {
  width: 32px;
  height: 32px;
  color: var(--text-primary);
  z-index: 1;
  transition: all 0.3s ease;
  filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.3)); /* 基础发光 */
}

/* 移除原有的 emoji 样式 */
.mode-emoji {
  display: none;
}

/* 悬停交互增强 */
.mode-icon-item:hover .mode-icon-svg {
  transform: scale(1.15);
  color: var(--accent-primary);
  filter: drop-shadow(0 0 8px rgba(102, 126, 234, 0.6)); /* 增强发光 */
}

/* 选中状态 */
.mode-icon-item.active .mode-icon-svg {
  color: var(--accent-primary);
}

/* 暗色模式适配 */
[data-theme="dark"] .mode-icon-svg {
  color: #e2e8f0;
}

[data-theme="dark"] .mode-icon-item:hover .mode-icon-svg {
  color: var(--accent-primary);
  filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.8));
}

/* ==================== */
/* 全局 SVG 图标样式 */
/* ==================== */

.icon-svg {
  width: 20px;
  height: 20px;
  stroke: currentColor;
  fill: none;
  stroke-width: 2;
  vertical-align: middle;
}

/* 引导页图标 */
.guide-icon .icon-svg {
  width: 48px;
  height: 48px;
  stroke-width: 1.5;
  color: var(--accent-primary);
}

/* 头部图标 */
.header h1 .icon-svg {
  width: 24px;
  height: 24px;
  margin-right: 8px;
}

/* 统计卡片图标 */
.stat-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: rgba(102, 126, 234, 0.1);
  margin-bottom: 8px;
  transition: all 0.3s ease;
}

.stat-icon .icon-svg {
  width: 24px;
  height: 24px;
  color: var(--accent-primary);
}

/* 悬停时卡片图标效果 */
.stat-card:hover .stat-icon {
  background: var(--accent-primary);
  transform: scale(1.1);
}

.stat-card:hover .stat-icon .icon-svg {
  color: #fff;
}

/* 学习按钮图标 */
.learning-btn .icon-svg {
  width: 18px;
  height: 18px;
  margin-right: 6px;
}

/* 设置标题图标 */
.settings-section h3 .icon-svg {
  margin-right: 8px;
  color: var(--accent-primary);
}

/* 控制按钮图标 */
.control-buttons button .icon-svg {
  width: 16px;
  height: 16px;
  margin-right: 4px;
}

/* 移除旧的 emoji 样式 */
.stat-icon {
  font-size: unset; /* 重置 emoji 字体大小 */
}

/* ==================== */
/* 学习总结页按钮样式 */
/* ==================== */

.summary-actions {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 24px;
  margin-top: 32px;
}

.primary-actions {
  display: flex;
  gap: 32px;
  justify-content: center;
}

.mode-icon-item.summary-btn {
  width: auto;
  min-width: 80px;
  background: none;
  border: none;
  padding: 0;
}

.mode-icon-item.summary-btn .mode-icon-circle {
  width: 56px;
  height: 56px;
  margin-bottom: 8px;
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.25);
}

.mode-icon-item.summary-btn .icon-svg {
  width: 24px;
  height: 24px;
}

/* 次级按钮（返回首页） */
.mode-icon-item.summary-btn.secondary {
  opacity: 0.8;
  transform: scale(0.9);
}

.mode-icon-item.summary-btn.secondary:hover {
  opacity: 1;
  transform: scale(0.95) translateY(-4px);
}

.mode-icon-item.summary-btn.secondary .mode-icon-circle {
  width: 48px;
  height: 48px;
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.15);
}

.mode-icon-item.summary-btn.secondary .icon-svg {
  width: 20px;
  height: 20px;
}

/* 总结标题样式优化 */
.summary-title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-bottom: 24px;
}

/* ==================== */
/* 测验模式布局优化 */
/* ==================== */

/* 固定测验模式容器高度，防止抖动 */
.quiz-mode.active {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  min-height: 520px;
  position: relative;
  padding-bottom: 100px;
}

/* 题目和选项区域 */
.quiz-question {
  flex: 1;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding-bottom: 80px;
}

/* 结果区域 - 旧样式已移除 */

/* 隐藏滚动条 */
.learning-area::-webkit-scrollbar {
  display: none;
}
.learning-area {
  scrollbar-width: none; /* Firefox */
}

/* ==================== */
/* Quiz Mode 滚动条设置 */
/* ==================== */

.quiz-mode {
  overflow-y: auto;
  max-height: calc(100vh - 180px);
  min-height: 520px;
  scrollbar-width: thin;
  padding-right: 5px;
  overscroll-behavior: contain;
}

.quiz-mode::-webkit-scrollbar {
  width: 4px;
}

.quiz-mode::-webkit-scrollbar-track {
  background: transparent;
}

.quiz-mode::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
}

/* 深色主题适配 */
@media (prefers-color-scheme: dark) {
  .quiz-mode::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.05);
  }
  
  .quiz-mode::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
  }
  
  .quiz-mode::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }
}

/* ==================== */
/* 测验模式布局优化 */
/* ==================== */

.quiz-container {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(240, 244, 255, 0.9) 100%);
  border-radius: 24px;
  padding: 40px;
  margin-bottom: 25px;
  text-align: center;
  box-shadow: 
    0 10px 30px rgba(0, 0, 0, 0.1),
    0 1px 2px rgba(0, 0, 0, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.6);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.4);
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* 答题反馈框样式 */
.quiz-result {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  margin-top: 0;
  padding: 20px;
  padding-bottom: 25px;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.95) 30%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  animation: slideUp 0.3s ease;
  width: 100%;
  border-radius: 0 0 24px 24px;
  z-index: 10;
}

.quiz-result.correct .result-icon,
.quiz-result.correct .result-text {
  color: var(--success-color);
}

.quiz-result.incorrect .result-icon,
.quiz-result.incorrect .result-text {
  color: var(--error-color);
}

